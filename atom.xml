<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Vasilii&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-08-22T06:26:26.362Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>西门子吹雪</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://yoursite.com/2019/08/22/%E5%8D%95%E4%BD%93%E5%BA%94%E7%94%A8%E4%B8%8ESOA%E5%BA%94%E7%94%A8/"/>
    <id>http://yoursite.com/2019/08/22/单体应用与SOA应用/</id>
    <published>2019-08-22T06:26:26.360Z</published>
    <updated>2019-08-22T06:26:26.362Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps1.png" alt="img"></td></tr></tbody></table><p><strong>Dubbo</strong></p><h1 id="单体应用与-SOA-应用"><a href="#单体应用与-SOA-应用" class="headerlink" title="单体应用与**SOA**应用"></a><strong>单体应用与**</strong>SOA<strong>**应用</strong></h1><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps2.png" alt="img"></p><p>单体应用:中级项目，CRM 均属于单体应用特点</p><p>\1. 代码比较集中（前端+后端）</p><p>后 端 :dao，service,controller（war） 前端:html，css,js,images</p><p>\2. 应用独立部署-部署比较简单</p><p>应用上线  打包（通常为一个war）</p><p>\3. 版本迭代中 应用技术复杂度越来越高，维护成本加大</p><p>\4. 异常全局性（一个异常可能会导致服务器不可用）</p><p>\5. 代码重复性较大 （service服务不可拆分）</p><p>SOA:面向服务(接口)开发1.代码分散(多个应用组件)</p><p>\2. 项目部署在多台机器上(分布式部署-分布式项目)</p><p>\3. 服务被拆分到不同应用</p><p>\4. 服务与服务之间调用跨机器(远程调用)</p><p>微服务:服务的粒度拆分细 拆分的每一个服务后续部署在一台独立机器(http(json))-SpringCloud(SpringBoot)</p><h1 id="Dubbo"><a href="#Dubbo" class="headerlink" title="Dubbo"></a><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps3.png" alt="img"><strong>Dubbo</strong></h1><p>面向服务的 分布式 RPC 远程调用框架</p><h2 id="RPC"><a href="#RPC" class="headerlink" title="RPC"></a><strong>RPC</strong></h2><p>RPC 协议:跨越传输层与应用层 实现机器与机器之间的远程通信协议 开发者不需要关注底层实现细节 关注重心:服务实现与服务调用</p><p>RPC框架:Java RMI(tcp),Dubbo(支持java),grpc,thrift RPC运行流程:</p><p>问题1:通讯问题-tcp 建立网络连接</p><p>问题2:网络寻址问题-本地存根(实现服务查找-类似字典表) 问题3:序列化与反序列化</p><p>Java RMI实现远程方法调用（ 跨机器 跨虚拟机 ）</p><h1 id="Dubbo-流程图"><a href="#Dubbo-流程图" class="headerlink" title="Dubbo 流程图"></a><strong>Dubbo</strong> <strong>流程图</strong></h1><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps4.png" alt="img"></p><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps5.jpg" alt="img"> </p><p>Provider:服务的提供方(提供接口方法实现) Java应用 一个服务可能会有多个提供方提供Registry:注册中心 保存服务提供方提供的服务信息，消费方订阅的信息 支持服务变更推送Consumer:服务消费方 java应用 订阅注册中心服务信息到本地 基于RPC协议实现远程过程调用Monitor:监控方 监控服务提供方 消费方运行信息</p><p>0 1:start register 应用程序初始化借助IOC容器实例化Bean对象</p><p>注册服务信息到注册中心</p><p>2-subscrible 订阅</p><p>消费方启动时 到注册中心订阅服务信息到本地</p><p>4-远程同步调用</p><p>根据2 过程订阅的服务信息 发起远程调用（RPC）</p><p>3-服务信息变更异步通知</p><p>当服务提供方服务信息变更时 注册中心发送变更推送信息给消费方</p><p>5-count 统计操作</p><h1 id="Dubbo-环境配置模块介绍"><a href="#Dubbo-环境配置模块介绍" class="headerlink" title="Dubbo 环境配置模块介绍"></a><strong>Dubbo</strong> <strong>环境配置模块介绍</strong></h1><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps6.png" alt="img"></p><p>dubbo_par 父 工 程 dubbo_api 服务定义模块dubbo_provider 服务实现方dubbo_consumer 服务消费方</p><h1 id="Dubbo-常用标签"><a href="#Dubbo-常用标签" class="headerlink" title="Dubbo 常用标签"></a><strong>Dubbo</strong> <strong>常用标签</strong></h1><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps7.png" alt="img"></p><h2 id="dubbo-application"><a href="#dubbo-application" class="headerlink" title="dubbo:application"></a><strong>dubbo:application</strong></h2><p>配置应用名称 用于服务提供方和服务消费方 name=”应用名称”</p><h2 id="dubbo-registry"><a href="#dubbo-registry" class="headerlink" title="dubbo:registry"></a><strong>dubbo:registry</strong></h2><p>注册中心 用于服务提供方和服务消费方 address=”” (广播|zookeeper(推荐))</p><h2 id="dubbo-protocol"><a href="#dubbo-protocol" class="headerlink" title="dubbo:protocol"></a><strong>dubbo:protocol</strong></h2><p>配置服务注册协议 name=”dubbo”(推荐使用dubbo) port=”20880” 用于服务提供方</p><h2 id="dubbo-service"><a href="#dubbo-service" class="headerlink" title="dubbo:service"></a><strong>dubbo:service</strong></h2><p>注册的服务信息配置 用于服务提供方 interface=”服务名”(接口全路径-包名.接口) ref=”实现类id标识” 可以配置多个</p><h2 id="dubbo-reference"><a href="#dubbo-reference" class="headerlink" title="dubbo:reference"></a><strong>dubbo:reference</strong></h2><p>配置订阅的服务信息 用于服务消费方 interface=”服务名”(接口全路径-包名.接口) id=”bean的唯一标识”</p><p>可以配置多个</p><h1 id="Dubbo-注册中心-Zookeeper-配置"><a href="#Dubbo-注册中心-Zookeeper-配置" class="headerlink" title="Dubbo 注册中心**-Zookeeper 配置**"></a><strong>Dubbo</strong> <strong>注册中心**</strong>-Zookeeper<strong> </strong>配置**</h1><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps8.png" alt="img"></p><h2 id="Zookeeper流程图"><a href="#Zookeeper流程图" class="headerlink" title="Zookeeper流程图"></a><strong>Zookeeper流程图</strong></h2><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps9.jpg" alt="img"> </p><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps10.jpg" alt="img"> </p><h2 id="Zookeeper-配置"><a href="#Zookeeper-配置" class="headerlink" title="Zookeeper 配置"></a><strong>Zookeeper</strong> <strong>配置</strong></h2><p>下载并解压:<a href="http://mirrors.shu.edu.cn/apache/zookeeper/zookeeper-3.4.13/" target="_blank" rel="noopener">http://mirrors.shu.edu.cn/apache/zookeeper/zookeeper-3.4.13/</a> <strong>bin目录：</strong></p><p>windows 启动</p><p>zkServer.cmd 启动zookeeper 脚本</p><p>zkCli.cmd 连接zookeeper 脚本</p><p>linux 启动</p><p>zkServer.sh start</p><p>zkCli.sh </p><h3 id="conf"><a href="#conf" class="headerlink" title="conf:"></a><strong>conf:</strong></h3><p>zoo.cfg</p><p>dataDir:存放节点数据目录</p><p>dataLogDir:存放运行日志目录</p><h3 id="节点查看命令-ls"><a href="#节点查看命令-ls" class="headerlink" title="节点查看命令   ls /"></a><strong>节点查看命令</strong>   <strong>ls /</strong></h3><p>ls /zookeeper </p><p>ls /dubbo</p><h3 id="Java-客户端"><a href="#Java-客户端" class="headerlink" title="Java 客户端"></a><strong>Java</strong> <strong>客户端</strong></h3><p>坐标添加(在父工程下添加)</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps11.png" alt="img"></td></tr></tbody></table><p>服务提供方 服务消费方 配置注册中心为zookeeper</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps12.png" alt="img"></td></tr></tbody></table><p>测试</p><p>启动服务端 执行服务注册</p><p>在 zkCli 界面查看注册的节点数据启动消费端 执行消费</p><h1 id="使用dubbo协议"><a href="#使用dubbo协议" class="headerlink" title="使用dubbo协议"></a><strong>使用dubbo协议</strong></h1><p><img src="file:///C:\Users\63051\AppData\Local\Temp\ksohtml16344\wps13.jpg" alt="img"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>吃点好的</title>
    <link href="http://yoursite.com/2019/01/14/%E9%81%87%E8%A7%81%E8%A5%BF%E9%97%A8/"/>
    <id>http://yoursite.com/2019/01/14/遇见西门/</id>
    <published>2019-01-14T11:54:04.000Z</published>
    <updated>2019-08-22T06:53:53.518Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;她的睫毛&quot; &quot;周杰伦&quot; &quot;http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3&quot;  &quot;http://home.ustc.edu.cn/~mmmwhy/jay.jpg&quot; &quot;autoplay=false&quot; %&#125;</span><br></pre></td></tr></table></figure><p>大晚上的,好饿啊.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="生活" scheme="http://yoursite.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="心情" scheme="http://yoursite.com/tags/%E5%BF%83%E6%83%85/"/>
    
  </entry>
  
</feed>
